---
import MomentLayout from '@layouts/MomentLayout.astro'
export const prerender = false;

const {page} = Astro.params

const pageIndex = parseInt(page, 10)

if (pageIndex === undefined) {
    throw new Error('Slug is required')
}
const pageOptions = {
    currentPage: pageIndex,
    pageSize: 10,
    url: {
        prev: pageIndex > 1 ? `/moments/p/${pageIndex - 1}` : '',
        next: '/moments/p/' + (pageIndex + 1)
    }
}
---

<MomentLayout page={pageOptions}/>