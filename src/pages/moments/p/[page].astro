---
import MomentLayout from "@layouts/MomentLayout.astro";
export const prerender = false;

const { page } = Astro.params;

if (!page) {
    throw new Error("Page parameter is required");
}

const pageIndex = parseInt(page, 10);

if (isNaN(pageIndex) || pageIndex < 1) {
    throw new Error(`Invalid page number: ${page}`);
}
const pageOptions = {
    currentPage: pageIndex,
    pageSize: 10,
    url: {
        prev: pageIndex > 1 ? `/moments/p/${pageIndex - 1}` : "",
        next: "/moments/p/" + (pageIndex + 1),
    },
};
---

<MomentLayout page={pageOptions} />
